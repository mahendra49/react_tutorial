<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        canvas {
            background-color: white;
        }
    </style>
</head>
<body>
    <canvas onclick="incr()"></canvas>

    <button onclick="decr()">INCR SPEED</button>
    <button onclick="incr()">DECR SPEED</button>


    <button onclick="Yaxis()"> Along Y axis </button>
    
    <button onclick="Xaxis()">Along X axis</button>

    <button onclick="Zaxis()">Along Z axis</button>

    <script>
        var canvas = document.querySelector("canvas");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        

        var timeout = 30;
        var timer;
        var g = canvas.getContext("2d");
        
        //vertices
        var nodes = [[-50, -50, -50], [-50, -50, 50], [-50, 50, -50], [-50, 50, 50],
        [50, -50, -50], [50, -50, 50], [50, 50, -50], [50, 50, 50]];
        
        //join vertices
        var edges = [[0, 1], [1, 3], [3, 2], [2, 0], [4, 5], [5, 7], [7, 6],
        [6, 4], [0, 4], [1, 5], [2, 6], [3, 7]];
            


        // This is for mouse direction ie..mousemovedleft, mousemovedright , mousemovedtop
        var direction = "";
        var oldx = 0;
        var oldy = 0;
        mousemovemethod = function (e) {
            if (e.pageX > oldx && e.pageY == oldy) {
                direction="East";
                Xaxis();
            }
            else if (e.pageX == oldx && e.pageY > oldy) {
                direction="South";
                Zaxis();
            }
            else if (e.pageX == oldx && e.pageY < oldy) {
                direction="North";
                Zaxis();
            }
            else if (e.pageX < oldx && e.pageY == oldy) {
                direction="West";
                Yaxis();
            }
                    
            oldx = e.pageX;
            oldy = e.pageY;
                    
            console.log(direction);
        }

        document.addEventListener('mousemove', mousemovemethod);


        function alongZaxis(angleX ){
            
            var sinX = Math.sin(angleX);
            var cosX = Math.cos(angleX);
 
            nodes.forEach( (node)=> {
                var x = node[0];
                var y = node[1];
                var z = node[2];
 
                node[1] = y* cosX - z * sinX;
                node[2] = z* cosX + y * sinX;
 
            });     
        }

        

        function Zaxis(){
            console.log("along z axis");
            clearInterval(timer);
            timer = setInterval(function(){ 
                alongZaxis(Math.PI / 180);
                drawCuboid();
            } , timeout);
        } 

        function alongYaxis(angleX ){
            
            var sinX = Math.sin(angleX);
            var cosX = Math.cos(angleX);
 
            nodes.forEach((node)=> {
                var x = node[0];
                var y = node[1];
                var z = node[2];
 
                node[0] = x * cosX - y * sinX;
                node[1] = y* cosX + x * sinX;
 
            });     
        }


        function Yaxis(){
            console.log("along y axis");
            clearInterval(timer);
            timer = setInterval(function(){ 
                alongYaxis(Math.PI / 180);
                drawCuboid();
            } , timeout);
        } 

        function Xaxis(){
            console.log("along x axis");
            clearInterval(timer);
            timer = setInterval(function(){
                rotateCuboidAlongX(Math.PI / 180);
                drawCuboid();
            } , timeout);
        }


        function incr(){
            console.log(timeout);
            clearInterval(timer);
            timeout +=30;
            timer = setInterval( function(){
                rotateCuboidAlongX(Math.PI / 180);
                drawCuboid();
            } , timeout);
        }


        function decr(){
            console.log(timeout);
            clearInterval(timer);
            timeout -=100;
            timer = setInterval( function(){
                rotateCuboidAlongX(Math.PI / 180);
                drawCuboid();
            } , timeout);
        }

 
        function rotateCuboidAlongX(angleX) {
 
            var sinX = Math.sin(angleX);
            var cosX = Math.cos(angleX);
 
            
            nodes.forEach( (node) =>{
                
                var x = node[0];
                var y = node[1];
                var z = node[2];
 
                node[0] = x * cosX - z * sinX;
                node[2] = z * cosX + x * sinX;

            });
        }
 
        function drawCuboid() {
            g.save();
 
            g.clearRect(0, 0, canvas.width, canvas.height);
            g.translate(canvas.width / 2, canvas.height / 2);
            g.strokeStyle = "blue";
            g.fillStyle = '#bbb';
            g.strokeStyle = '#000';

            g.lineWidth = 2;
            

            g.beginPath();
 
            edges.forEach(function (edge) {
                var p1 = nodes[edge[0]];
                var p2 = nodes[edge[1]];
                g.moveTo(p1[0], p1[1]);
                g.lineTo(p2[0], p2[1]);
            });
 
            g.closePath();
            g.stroke();
           

            g.shadowOffsetX = 10;
            g.shadowOffsetY = 10;
            g.shadowBlur    = 4;
            g.shadowColor   = 'rgba(180, 180, 180, 0.8)';
            // fill shape, draw stroke
            g.fill();
            g.stroke();
            g.closePath();
            g.restore();
            // echo some debug information
            g.font = '12px Verdana';
            g.fillStyle = '#000';
 
            g.restore();
        }
 
        
        rotateCuboidAlongX(Math.PI / 180);
 
        timer = setInterval(function() {
            rotateCuboidAlongX(Math.PI / 180);
            drawCuboid();
        }, timeout);
 
    </script>
 
</body>
</html>